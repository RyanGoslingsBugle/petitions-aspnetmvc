@model IEnumerable<Coursework.Models.Cause>

@{ 
    ViewBag.Title = "Home";
    var carouselCauses = Model.Take(5).ToList();
}

<div class="row mb-3">
    <div class="header-background">
        <div class="header-text-container">
            <div class="col-sm-12">
                <h1 class="display-1" id="index-callout">Come Change The World</h1>
                <div class="header-button-container">
                    <a class="header-button btn btn-lg btn-primary" href="/causes/index">Explore Causes</a>
                    <a class="header-button btn btn-lg btn-secondary" href="/members/index">Find Members</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mb-3">
    <div class="col-md-6 text-center m-auto">
        <h2 id="index-title" class="display-2">Multitude</h2>
        <p class="lead">Multitude is a different kind of web platform: the kind that lets you make a difference to the world around you.</p>
    </div>
</div>

<div class="row">
    <div class="row my-4 mx-auto" id="indexCarouselContainer">
        <div id="indexCarousel" class="carousel slide m-auto" data-ride="carousel">
            <div class="carousel-inner">
                @foreach (var item in carouselCauses)
                { 
                string signerText = item.Signers.Count == 1 ? "1 person" : item.Signers.Count.ToString() + " people";
                    <div class="carousel-item">
                        <a href="/causes/details/@item.ID">
                            <img class="d-block w-100" src="@item.ImageURL" />
                            <div class="carousel-caption d-none d-md-block">
                                <h5>@item.Title</h5>
                                <p>Created by @item.Member.Name</p>
                                <p>Signed by @signerText</p>
                            </div>
                        </a>
                    </div>
                }
            </div>
            <a class="carousel-control-prev" href="#indexCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#indexCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $('#indexCarousel .carousel-inner .carousel-item:first').addClass('active');
                });
</script>